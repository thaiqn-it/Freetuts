panel:159 <h2><strong>1. Multiprocessing là gì?</strong></h2><p>Multiprocessing là khả năng của một hệ thống hỗ trợ nhiều bộ vi xử lý processor cùng một lúc. Các ưng dụng trong hệ thống đa xử lý được chia thành nhiều quy trình nhỏ và chạy độc lập, và hệ điều hành sẽ phân bổ các luồng này cho bộ vi xử lý để cải thiện hiệu suất của hệ thống.</p><p>Câu hỏi đặt ra là <strong>tại sao ta phải sư dụng multiprocessing</strong>? Hãy đặt một ví dụ về máy tính có một processor nhé.</p><p>Trong máy tính có một processor duy nhất, nếu processor được chỉ định chạy nhiều quy trình cùng lúc thì nó sẽ phải phân chia các task (<i>tác vụ</i>) bằng cách ngắt task này và chạy task kia một cách liên tục, điều này giúp đảm bảo tất cả các task đều được chạy.</p><p>Điều này giống như một người đầu bếp, khi khách hàng vào đặt nhiều món thì đầu bếp sẽ phải nấu nhiều món cùng lúc, phân chia thời gian giữa các món để đảm bảo món nào cũng được nấu đúng giờ.</p><p>Việc làm nhiều việc cùng lúc sẽ làm cho hiệu quả công việc không được tốt, sản phẩm hoàn thành không được như mong đời. Chính điều này đã xuất hiện thêm khái niệm xử lý đa tiến trình.</p><h2><strong>2. Multiprocessing trong Python là gì?</strong></h2><p>Multiprocessing trong Python là một module hỗ trợ lập trình viên có thể phân chia công việc theo nhiều quy trình. Bằng cách thông qua những phương thức (API) mà module cung cấp sẵn, chúng ta có thể quản lý được các task một cách dễ dàng.</p><p>Để hiểu rõ về xử lý tiến trình song song thì bạn phải biết có bao nhiêu core trong máy tính đang sử dụng, và module <strong>multiprocessing </strong>sẽ giúp bạn biết được điều đó, bằng cách sử dụng đoạn mã đơn giản dưới đây.</p><figure class="table"><table><tbody><tr><td><p>1</p><p>2</p></td><td><p><code>import</code> <code>multiprocessing</code></p><p><code>print("Số lượng cpu : ", multiprocessing.cpu_count())</code></p></td></tr></tbody></table></figure><p>Kết quả trên máy tính của mình là:</p><figure class="table"><table><tbody><tr><td>1</td><td><code>Số lượng cpu :&nbsp; 8</code></td></tr></tbody></table></figure><p>Đấy chỉ là mới tham khảo số lượng CPU. Nếu bạn muốn tìm hiểu sâu hơn thì hãy tiếp tục với các ví dụ phía dưới nhé.</p><p><strong>Ví dụ 1</strong>: Bây giờ hãy xem một đoạn code đơn giản dưới đây.</p><figure class="table"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p><p>4</p><p>5</p><p>6</p><p>7</p><p>8</p><p>9</p><p>10</p><p>11</p><p>12</p><p>13</p><p>14</p><p>15</p><p>16</p><p>17</p><p>18</p><p>19</p><p>20</p><p>21</p><p>22</p><p>23</p><p>24</p><p>25</p><p>26</p><p>27</p><p>28</p><p>29</p><p>30</p><p>31</p><p>32</p><p>33</p></td><td><p><code># importing module multiprocessing</code></p><p><code>import</code> <code>multiprocessing</code></p><p><code>def</code> <code>print_cube(num):</code></p><p><code>&nbsp;&nbsp;&nbsp; """</code></p><p><code>&nbsp;&nbsp;&nbsp; Hàm in thể tích của khối lập phương</code></p><p><code>&nbsp;&nbsp;&nbsp; """</code></p><p><code>&nbsp;&nbsp;&nbsp; print("Giá trị lập phương: {}".format(num *</code> <code>num *</code> <code>num))</code></p><p><code>def</code> <code>print_square(num):</code></p><p><code>&nbsp;&nbsp;&nbsp; """</code></p><p><code>&nbsp;&nbsp;&nbsp; Hàm in diện tích hình vuông</code></p><p><code>&nbsp;&nbsp;&nbsp; """</code></p><p><code>&nbsp;&nbsp;&nbsp; print("Diện tích hình vuông: {}".format(num *</code> <code>num))</code></p><p><code># Chương trình chính</code></p><p><code>if</code> <code>__name__ ==</code> <code>"__main__":</code></p><p><code>&nbsp;&nbsp;&nbsp; # Tạo hai tiến trình process</code></p><p><code>&nbsp;&nbsp;&nbsp; p1 =</code> <code>multiprocessing.Process(target=print_square, args=(10, ))</code></p><p><code>&nbsp;&nbsp;&nbsp; p2 =</code> <code>multiprocessing.Process(target=print_cube, args=(10, ))</code></p><p><code>&nbsp;&nbsp;&nbsp; # Bắt đầu process 1</code></p><p><code>&nbsp;&nbsp;&nbsp; p1.start()</code></p><p><code>&nbsp;&nbsp;&nbsp; # Bắt đầu process 2</code></p><p><code>&nbsp;&nbsp;&nbsp; p2.start()</code></p><p><code>&nbsp;&nbsp;&nbsp; # Chờ tới khi process 1 hoàn thành</code></p><p><code>&nbsp;&nbsp;&nbsp; p1.join()</code></p><p><code>&nbsp;&nbsp;&nbsp; # Chờ tới khi process 2 hoàn thành</code></p><p><code>&nbsp;&nbsp;&nbsp; p2.join()</code></p><p><code>&nbsp;&nbsp;&nbsp; # Cả hai processes hoàn thành</code></p><p><code>&nbsp;&nbsp;&nbsp; print("Done!")</code></p></td></tr></tbody></table></figure><p>Kết quả:</p><figure class="table"><table><tbody><tr><td><p>1</p><p>2</p><p>3</p></td><td><p><code>Diện tích hình vuông: 100</code></p><p><code>Giá trị lập phương: 1000</code></p><p><code>Done!</code></p></td></tr></tbody></table></figure><p>Giải thích một chút về chương trình:</p><ul><li>Đoạn code <code>import multiprocessing</code> dùng để khai báo sử dụng module multiprocessing.</li><li>Để tạo một process thì ta sử dụng class tên là <strong>Process</strong>, nó có hai tham số như sau:<ul><li><code>target</code> là hàm được gọi để chạy</li><li><code>args</code> là các tham số sẽ truyền vào hàm target</li><li>Class <code
